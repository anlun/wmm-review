\section{Methodology}
\label{sec:methodology}

The main purpose of our work was to study 
trade-offs in the design of a memory model 
for a programming language.
Stronger memory models give more reasoning guarantees to programmers, 
while weaker models provide more optimization opportunities. 
We wanted to answer the following research question.

\begin{itemize}
  \item How reasoning guarantees provided by a memory model 
    to an end-user of a programming language narrow  
    optimization opportunities for a language implementation?
\end{itemize}

To answer this question, we consulted the existing research studies 
in the field of programming language memory models.
Our goal was to identify existing proposed memory models and classify them.

In order to compare memory models we used standard criteria developed in the literature.

\begin{enumerate}[label=\textbf{C.\arabic*}]
  
  \item \label{item:criteria:opt-comp}
    An \emph{optimality of compilation scheme}. 
    A language with a memory model supporting 
    optimal compilation schemes can be efficiently 
    implemented on modern hardware. 
    Contrary, the usage of nonoptimal compilation mappings
    induces a slowdown during an execution of a program, 
    but can prevent an apperance of certain weak behaviors
    permitted by the hardware.   

  \item \label{item:criteria:sound-trans}
    A \emph{soundness of common program transformations}. 
    During the optimiztions passes a compiler of a programming language
    performs various source-to-source transformations.
    The more transformations a memory model of the language supports
    the more compiler optimizations are potentially applicable 
    to programs written in this language.

  \item \label{item:criteria:reasoning}
    Support of various \emph{reasoning guarantees}, which simplify 
    the reasoning about the correctness of concurrent programs
    written in a given programming language. 
  
\end{enumerate}

In order to select memory models for our study, 
we performed the following search procedure.
On the \emph{first stage}, we manually selected 10  
peer-reviewed research papers~\cite{
Manson-al:POPL05,
Batty-al:POPL11,
Lahav-al:PLDI17,
Dolan-al:PLDI18,
Watt-al:PLDI2020,
Jeffrey-Riely:LICS16,
PichonPharabod-Sewell:POPL16,
Kang-al:POPL17,
Chakraborty-Vafeiadis:POPL19,
Paviotti-al:ESOP20
}
whose main contribution was a proposal of a new PL weak memory model, 
and which were presented at highly ranked programming language conferences, 
such as ``Symposium on Principles of Programming Languages'' (POPL),
``Conference on Programming Language Design and Implementation'' (PLDI), and others.
We then took the list of keywords from these papers. 
From this list of keywords we manually excluded those 
that were either too broad or too narrow.
As a result we get three keyword phrases:
\begin{itemize}
  \item Relaxed Memory Models;
  \item Weak Memory Models;
  \item Weak Memory Consistency.
\end{itemize}
 
On the \emph{second stage} we used these phrases as search queries
for the Google Scholar\footnote{https://scholar.google.com/} search engine.
For each query we took first 1000 entries from the search result.
We got a list of 2493 research items in total. 
As a sanity check, we checked that each of the 10 initially 
selected papers was contained in the selection. 

On the \emph{third stage} we removed from the selection duplicates
and non-peer-reviewed papers. 
Also we decided to remove technical reports, theses, 
non-English publications, as well as short papers (up to 4 page long).
After this stage only 1077 research items have left.

Next, on the \emph{fourth stage}, we further filtered the selection 
by consulting titles and abstracts of the papers. 
We included only the papers which are directly related to the 
topic of PL memory models and whose main focus is memory models themselves,
as opposed to papers that only use established results about PL memory models,
or papers related to adjacent topics. 
In particular, we filtered out papers related to the following adjacent topics:
\begin{itemize}
  \item memory models of hardware, heterogeneous systems, and distributed systems;
  \item semantics of transactions and persistency;
  \item verification techniques for weak memory.
\end{itemize}
As a result we got 105 research items.

Finally, on the \emph{fifth stage}, we carefully examined the remaining articles.
In our final selection, we have included only those whose contribution was claimed to include:
\begin{itemize}
  \item a new PL memory model;
  \item a study of an existing PL memory model;
  \item a refinement of an existing PL memory model.
\end{itemize}
In the end we got 40 research papers.


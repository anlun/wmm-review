\section{Conclusion and Future Work}
\label{sec:conclusion}

In this work we surveyed memory models 
proposed for various programming language. 
We compared them based on common set of criteria
developed in the literature and identified 
six main classes of memory models.
We also presented a short guide on how to 
choose a suitable memory model based on 
the design of a programming language. 
We hope our work will be helpful for 
programming language researches and implementors,
and would serve as a gentle introduction 
to the complex topic of weak memory models. 

As more and more new and existing programming languages 
introduce features for concurrent programming, 
we expect the research of weak memory models to continue.
Based on our analysis we can suggest several
possible directions for future work in the field. 

One can see that optimality of compilation schemes 
and local program transformations are relatively well studied.
More recent memory models~%
\cite{Lahav-al:PLDI17, Dolan-al:PLDI18, Kang-al:POPL17, Chakraborty-Vafeiadis:POPL19} 
support wide range of local transformations and have clear 
trade-offs in terms of compilation mappings. 
An exception is local transformations involving loops and recursion, 
their soundness have not being studied formally. 
Global transformations also received a little attention so far,
with a few notable exceptions~\cite{PichonPharabod-Sewell:POPL16, Lee-al:PLDI20}.
The exact impact of these transformations on the design of 
memory models is yet to be discovered. 

Whole program data-race freedom guarantees were also studied extensively.
In contrast, local data-race freedom is a relatively new concept. 
We expect it as well as local reasoning guarantees 
in general~\cite{Dodds-al:ESOP18, Jagadeesan-al:OOPSLA2020, Cho-al:PLDI21} 
to receive more attention in near future.  

In terms of features supported by memory models, 
we highlight two challenging areas.
First, theory of mixed size accesses is clearly 
underdeveloped to this day, only the two recent studies 
tried to approach it so far~\cite{Flur-al:POPL17, Watt-al:PLDI2020}.
Yet mixed size accesses are used in real-world applications,
for example, in the \Linux kernel codebase~\cite{Flur-al:POPL17},
and thus supporting them is a a necessary prerequisite 
for a certain class of memory models. 
Second, sequential consistent accesses, quite surprisingly,
posses a challenge for some of semantic dependency preserving
models like \Promising. Reconciling these models with $\sco$ 
accesses also would be a valuable contribution.

Semantic dependency preserving models are still an active 
area of research~\cite{Kang-al:POPL17, Lee-al:PLDI20, Cho-al:PLDI21,
Chakraborty-Vafeiadis:POPL19, Paviotti-al:ESOP20, 
Jagadeesan-al:OOPSLA2020}. 
We expect those to be a subject to 
further refinement and new proposals. 
An interesting line of work here would be 
a development of new reasoning principles
beyond data-race freedom, which could 
improve the meta-theory of these models and 
simplify the reasoning about correctness of programs.   

Finally, a comprehensive quantitative studies 
of the performance penalties induced by memory models are quite valuable.
Although there is some work in this direction,%
\cite{Singh-al:ISCA12, Liu-al:OOPSLA17, Liu-al:PLDI19, 
Vollmer-al:PPoPP17, Dolan-al:PLDI18, Ou-Demsky:OOPSLA18}, 
the full picture is still unclear.

\documentclass[12pt]{article}
%% \documentclass[acmsmall,12pt]{acmart}%\settopmatter{printfolios=true}

\usepackage{booktabs}
\usepackage{subcaption}
\usepackage{microtype}
\usepackage{amsmath}
\usepackage{amssymb,amsfonts,amsthm}
\usepackage{stmaryrd}
\usepackage{multicol}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage{graphicx}
\usepackage{tikz}
\usepackage{thm-restate}
\usepackage{mathpartir}
\usepackage{xspace}

\usepackage{authblk}
\usepackage{listings}
%% \usepackage[dvipsnames]{xcolor}
\usepackage{colortbl}
\usepackage[capitalise]{cleveref}
\usepackage{hyperref}
\usepackage[utf8]{inputenc}
\usepackage[russian]{babel}
\usepackage{cmap}
%% \usepackage[a4paper, total={14cm, 20cm}]{geometry}
\usepackage[a4paper, margin=0.5in]{geometry}

%% \usepackage{microtype}%if unwanted, comment out or use option "draft"
\usepackage{thmtools,thm-restate}
\usepackage{semantic}
\usepackage{chngcntr}

\renewcommand*{\Authsep}{, }
\renewcommand*{\Authand}{, }
\renewcommand*{\Authands}{, }

\title{Слабые модели памяти.\\ Существующие проблемы и решения}
\author{Антон Подкопаев}
\affil{СПбГУ, JetBrains Research, Россия}

\newcommand{\valuecom}[1]{\textcolor{green!60!black}{// #1}}
\newcommand{\valuefail}[1]{\textcolor{red!60!black}{// #1}}
\newcolumntype{L}{>{$}l<{$}} % math-mode version of "l" column type

\declaretheorem[name=Теорема,style=default,numberwithin=section]{thm}
\declaretheorem[name=Лемма,style=default,numberwithin=section]{lem}
%% \declaretheorem[name=Определение,style=default,sibling=thm]{mydefinition}
\declaretheorem[name=Определение,style=definition,numbered=no]{mydefinition}

\include{defs}
\include{macros}

% enviorments
\theoremstyle{plain}
%% \newtheorem{notation}[theorem]{Notation}
\newtheorem{notation}{Notation}
\newtheorem*{notation*}{Notation}

\newtheorem{definition}{Определение}
\newtheorem*{definition*}{Определение}
\newtheorem{proposition}{Утверждение}
\newtheorem*{proposition*}{Утверждение}
\newtheorem{theorem}{Теорема}
\newtheorem*{theorem*}{Теорема}
\newtheorem{lemma}{Лемма}
\newtheorem*{lemma*}{Лемма}

\crefformat{section}{#2\S{}#1#3}
\Crefname{section}{Section}{Section}
\Crefformat{section}{Section #2#1#3}
\Crefname{figure}{\text{Figure}}{\text{Figures}}
\crefname{corollary}{\text{Corollary}}{\text{corollaries}}
\Crefname{corollary}{\text{Corollary}}{\text{Corollaries}}
\crefname{lemma}{\text{Lemma}}{\text{Lemmas}}
\Crefname{lemma}{\text{Lemma}}{\text{Lemmas}}
\crefname{proposition}{\text{Prop.}}{\text{Propositions}}
\Crefname{proposition}{\text{Proposition}}{\text{Propositions}}
\crefname{definition}{\text{Def.}}{\text{Definitions}}
\Crefname{definition}{\text{Definition}}{\text{Definitions}}
\crefname{notation}{\text{Notation}}{\text{Notations}}
\Crefname{notation}{\text{Notation}}{\text{Notations}}
\crefname{theorem}{\text{Theorem}}{\text{Theorems}}
\Crefname{theorem}{\text{Theorem}}{\text{Theorems}}


\newenvironment{claim}[1]{\par\noindent\underline{Claim:}\space#1}{}
\newenvironment{claimproof}[1]{\par\noindent\underline{Proof:}\space#1}
{\leavevmode\unskip\penalty9999 \hbox{}\nobreak\hfill\quad\hbox{$\square$}}

\newcommand{\textdom}[1]{\mathsf{#1}}
\newcommand{\textcode}[1]{\texorpdfstring{\texttt{#1}}{#1}}
\newcommand{\kw}[1]{\textbf{\textcode{#1}}}
\newcommand{\skipc}{\kw{skip}}
\newcommand{\ite}[3]{\kw{if}\;#1\:\kw{then}\;#2\;\\ \kw{else}\;#3}
\newcommand{\iteml}[3]{
  \kw{if} \; #1\\
  \begin{array}[t]{@{}l@{}l}
    \kw{then}& \begin{array}[t]{l} #2 \end{array} \\
    \kw{else}& \begin{array}[t]{l} #3 \end{array} \\
  \end{array}
}
\newcommand{\itne}[2]{\kw{if}\;#1\:\kw{then}\\ \quad\;{#2}}
\newcommand{\while}[2]{\kw{while}\;#1\;\kw{do}\;#2}
\newcommand{\ALT}{\;\;|\;\;}

\newcommand{\ie}{\emph{i.e.,} }
\newcommand{\eg}{\emph{e.g.,} }
\newcommand{\etal}{\emph{et~al.}}
\newcommand{\wrt}{w.r.t.~}

\newcommand{\inarrC}[1]{\begin{array}{@{}c@{}}#1\end{array}}
\newcommand{\inpar}[1]{\left(\begin{array}{@{}l@{}}#1\end{array}\right)}
\newcommand{\inset}[1]{\left\{\begin{array}{@{}l@{}}#1\end{array}\right\}}
\newcommand{\inarr}[1]{\begin{array}{@{}l@{}}#1\end{array}}
\newcommand{\inarrII}[2]{\begin{array}{@{}l@{~~}||@{~~}l@{}}\inarr{#1}&\inarr{#2}\end{array}}
\newcommand{\inarrIII}[3]{\begin{array}{@{}l@{~~}||@{~~}l@{~~}||@{~~}l@{}}\inarr{#1}&\inarr{#2}&\inarr{#3}\end{array}}
\newcommand{\inarrIV}[4]{\begin{array}{@{}l@{~~}||@{~~}l@{~~}||@{~~}l@{~~}||@{~~}l@{}}\inarr{#1}&\inarr{#2}&\inarr{#3}&\inarr{#4}\end{array}}
\newcommand{\inarrV}[5]{\begin{array}{@{}l@{~~}||@{~~}l@{~~}||@{~~}l@{~~}||@{~~}l@{~~}||@{~~}l@{}}\inarr{#1}&\inarr{#2}&\inarr{#3}&\inarr{#4}&\inarr{#5}\end{array}}

%% \renewcommand{\comment}[1]{\color{teal}{~~\texttt{/\!\!/}\textit{#1}}}


\newcommand{\set}[1]{\{{#1}\}}
\newcommand{\sem}[1]{\llbracket #1 \rrbracket}
\newcommand{\pfn}{\rightharpoonup}
\newcommand{\st}{\; | \;}
\newcommand{\N}{{\mathbb{N}}}
\newcommand{\dom}[1]{\textit{dom}{({#1})}}
\newcommand{\codom}[1]{\textit{codom}{({#1})}}
\newcommand{\before}[2]{{#1}_{#2}^\uparrow}
\newcommand{\after}[2]{{#1}_{#2}^\downarrow}
%\newcommand{\fv}[1]{fv{[{#1}]}}
\newcommand{\tup}[1]{{\langle{#1}\rangle}}
\newcommand{\nin}{\not\in}
\newcommand{\suq}{\subseteq}
\newcommand{\sqsuq}{\sqsubseteq}
\newcommand{\sqsu}{\sqsubset}
\newcommand{\sqslq}{\sqsupseteq}
\newcommand{\size}[1]{|{#1}|}
\newcommand{\block}[1]{\langle {#1}\rangle}
\newcommand{\true}{\top}
\newcommand{\maketil}[1]{{#1}\ldots{#1}}
\newcommand{\til}{\maketil{,}}
\newcommand{\cuptil}{\maketil{\cup}}
\newcommand{\uplustil}{\maketil{\uplus}}
\renewcommand*{\mathellipsis}{\mathinner{{\ldotp}{\ldotp}{\ldotp}}}
\newcommand{\rst}[1]{|_{#1}}
\newcommand{\imm}[1]{{#1}{\rst{\text{imm}}}}
\renewcommand{\succ}[2]{\text{succ}_{#1}(#2)}
\newcommand{\aite}[3]{(#1?#2,#3)}
%\newcommand{\defeq}{\mathrel{\stackrel{\mathsf{def}}{=}}}
\newcommand{\defeq}{\triangleq}
\newcommand{\powerset}[1]{\mathcal{P}({#1})}
\newcommand{\finpowerset}[1]{\mathcal{P}_{<\omega}({#1})}
\renewcommand{\implies}{\Rightarrow}


\colorlet{colorPO}{gray!60!black}
\colorlet{colorRF}{green!60!black}
\colorlet{colorMO}{orange}
\colorlet{colorFR}{purple}
\colorlet{colorECO}{red!80!black}
\colorlet{colorSYN}{green!40!black}
\colorlet{colorHB}{blue}
\colorlet{colorPPO}{magenta}
\colorlet{colorPB}{olive}
\colorlet{colorSBRF}{olive}
\colorlet{colorRMW}{olive!70!black}
\colorlet{colorRSEQ}{blue}
\colorlet{colorSC}{violet}
\colorlet{colorPSC}{violet}
\colorlet{colorREL}{olive}
\colorlet{colorCONFLICT}{olive}
\colorlet{colorRACE}{olive}
\colorlet{colorWB}{orange!70!black}
\colorlet{colorPSC}{violet}
\colorlet{colorSCB}{violet}
\colorlet{colorDEPS}{violet}

\tikzset{
   every path/.style={>=stealth},
   sb/.style={->,color=colorSB,thin,shorten >=-0.5mm,shorten <=-0.5mm},
   sw/.style={->,color=colorSYN,shorten >=-0.5mm,shorten <=-0.5mm},
   rf/.style={->,color=colorRF,dashed,,shorten >=-0.5mm,shorten <=-0.5mm},
   hb/.style={->,color=colorHB,thick,shorten >=-0.5mm,shorten <=-0.5mm},
   mo/.style={->,color=colorMO,dotted,very thick,shorten >=-0.5mm,shorten <=-0.5mm},
   no/.style={->,dotted,thick,shorten >=-0.5mm,shorten <=-0.5mm},
   fr/.style={->,color=colorFR,dotted,thick,shorten >=-0.5mm,shorten <=-0.5mm},
   deps/.style={->,color=colorDEPS,dotted,thick,shorten >=-0.5mm,shorten <=-0.5mm},
   rmw/.style={->,color=colorRMW,thick,shorten >=-0.5mm,shorten <=-0.5mm},
}

%% Orders
\newcommand{\na}{\mathtt{na}}
\newcommand{\pln}{\mathtt{pln}}
\newcommand{\rlx}{\mathtt{rlx}}
\newcommand{\rel}{{\mathtt{rel}}}
\newcommand{\acq}{{\mathtt{acq}}}
\newcommand{\acqrel}{{\mathtt{acqrel}}}
\newcommand{\sco}{{\mathtt{sc}}}
\newcommand{\sto}{{\mathtt{st}}}
\newcommand{\full}{{\mathtt{sy}}}
\newcommand{\ld}{{\mathtt{ld}}}
\newcommand{\isb}{{\mathtt{isb}}}

%% Event labels

\newcommand{\evlab}[4]{{#1}({#3},{#4})}
\newcommand{\evflab}[1]{{\flab}^{#1}}
\newcommand{\evulab}[4]{{\ulab}^{#1}({#2},{#3},{#4})}
\newcommand{\rlab}[3]{{\lR}^{#1}({#2},{#3})}
\newcommand{\erlab}[4]{{\lR}^{#1}({#2},{#3},{#4})}
\newcommand{\wlab}[3]{{\lW}^{#1}({#2},{#3})}
\newcommand{\flab}[1]{{\lF}^{#1}}
%\newcommand{\ulab}[4]{{\lU}^{#1}({#2},{#3},{#4})}

\newcommand{\lE}{{\mathtt{E}}}
\newcommand{\lC}{{\mathtt{C}}}
%\newcommand{\lP}{{\mathit{P}}}
\newcommand{\lM}{{\mathtt{M}}}
\newcommand{\lS}{{\mathtt{S}}}
\newcommand{\lR}{{\mathtt{R}}}
\newcommand{\lW}{{\mathtt{W}}}
\newcommand{\lA}{{\mathtt{A}}}
\newcommand{\lQ}{{\mathtt{Q}}}
\newcommand{\lL}{{\mathtt{L}}}
\newcommand{\lU}{{\mathtt{RMW}}}
\newcommand{\lF}{{\mathtt{F}}}
\newcommand{\lRES}{{\mathtt{Res}}}
\newcommand{\lAT}{{\mathtt{At}}}
\newcommand{\lATR}{{\mathtt{AtR}}}

\newcommand{\lLAB}{{\mathtt{lab}}}
\newcommand{\lTID}{{\mathtt{tid}}}
\newcommand{\lTYP}{{\mathtt{typ}}}
\newcommand{\lLOC}{{\mathtt{loc}}}
\newcommand{\lMOD}{{\mathtt{mod}}}
\newcommand{\lVALR}{{\mathtt{val_r}}}
\newcommand{\lVALW}{{\mathtt{val_w}}}
\newcommand{\lELAB}{{\mathtt{elab}}}
\newcommand{\lAVALS}{{\mathtt{atvals}}}

%% Relations

\newcommand{\lX}{\mathtt{X}}
\newcommand{\lPO}{{\color{colorPO}\mathtt{po}}}
\newcommand{\lRF}{{\color{colorRF} \mathtt{rf}}}
\newcommand{\lRMW}{{\color{colorRMW} \mathtt{rmw}}}
\newcommand{\lMO}{{\color{colorMO} \mathtt{mo}}}
\newcommand{\lMOx}{{\color{colorMO} \mathtt{mo}}_x}
\newcommand{\lMOy}{{\color{colorMO} \mathtt{mo}}_y}
\newcommand{\lCO}{{\color{colorMO} \mathtt{co}}}
\newcommand{\lCOx}{{\color{colorMO} \mathtt{co}}_x}
\newcommand{\lCOy}{{\color{colorMO} \mathtt{co}}_y}
\newcommand{\lFR}{{\color{colorFR} \mathtt{fr}}}
\newcommand{\lFRx}{{\color{colorFR} \mathtt{fr}}_x}
\newcommand{\lFRy}{{\color{colorFR} \mathtt{fr}}_y}
\newcommand{\lECO}{{\color{colorECO} \mathtt{eco}}}
\newcommand{\lSBRF}{{\color{colorSBRF} \mathtt{sbrf}}}
\newcommand{\lRSEQ}{{\color{colorRSEQ}\mathtt{rseq}}}
\newcommand{\lSW}{{\color{colorSYN}\mathtt{sw}}}
\newcommand{\lHB}{{\color{colorHB}\mathtt{hb}}}
%\newcommand{\lWB}{{\color{colorWB} \mathtt{wb}}}
\newcommand{\lDOB}{{\mathtt{dob}}}
\newcommand{\lBOB}{{\mathtt{bob}}}
\newcommand{\lAOB}{{\mathtt{aob}}}
\newcommand{\lOBS}{{\mathtt{obs}}}
\newcommand{\lEORD}{{\mathtt{eord}}}
\newcommand{\lTORD}{{\mathtt{tord}}}
\newcommand{\lSC}{{\mathtt{sc}}}

\newcommand{\lSCB}{{\color{colorSCB} \mathtt{scb}}}
\newcommand{\lPSC}{{\color{colorPSC} \mathtt{psc}}}
\newcommand{\lPSCB}{\lPSC_{\rm base}}
\newcommand{\lPSCF}{\lPSC_\lF}
\newcommand{\lCONFLICT}{{\color{colorCONFLICT} \mathtt{conflict}}}
\newcommand{\lRACE}{{\color{colorRACE} \mathtt{race}}}
\newcommand{\lNARACE}{{\color{colorRACE} \mathtt{na-race}}}

\newcommand{\lmakeW}[1]{\mathtt{w}#1}
\newcommand{\lWFR}{\lmakeW{\lFR}}
\newcommand{\lWECO}{\lmakeW{\lECO}}
\newcommand{\lWSCB}{\lmakeW{\lSCB}}
\newcommand{\lWPSCB}{\lmakeW{\lPSCB}}
\newcommand{\lWPSCF}{\lmakeW{\lPSCF}}
\newcommand{\lWPSC}{\lmakeW{\lPSC}}
\newcommand{\lWB}{\lmakeW{\lMO}}

\newcommand{\lDEPS}{{{\color{colorDEPS}\mathtt{deps}}}}
\newcommand{\lCTRL}{{{\color{colorDEPS}\mathtt{ctrl}}}}
\newcommand{\lCTRLISYNC}{{{\color{colorDEPS}\mathtt{ctrl_{isync}}}}}
\newcommand{\lDATA}{{{\color{colorDEPS}\mathtt{data}}}}
\newcommand{\lADDR}{{{\color{colorDEPS}\mathtt{addr}}}}

\newcommand{\lmakeE}[1]{#1\mathtt{e}}
\newcommand{\lRFE}{\lmakeE{\lRF}}
\newcommand{\lCOE}{\lmakeE{\lCO}}
\newcommand{\lFRE}{\lmakeE{\lFR}}
\newcommand{\lMOE}{\lmakeE{\lMO}}
\newcommand{\lmakeI}[1]{#1\mathtt{i}}
\newcommand{\lRFI}{\lmakeI{\lRF}}
\newcommand{\lCOI}{\lmakeI{\lCO}}
\newcommand{\lFRI}{\lmakeI{\lFR}}

\newcommand{\Tid}{\mathsf{Tid}}
\newcommand{\Loc}{\mathsf{Loc}}
\newcommand{\Val}{\mathsf{Val}}
\newcommand{\Lab}{\mathsf{Lab}}
\newcommand{\Mod}{\mathsf{Mod}}
\newcommand{\Modr}{\mathsf{Mod}_{\lR}}
\newcommand{\Modw}{\mathsf{Mod}_{\lW}}
\newcommand{\Modf}{\mathsf{Mod}_{\lF}}
\newcommand{\Modrmw}{\mathsf{Mod}_{\lU}}

\newcommand{\reorder}[1]{\mathsf{Reorder}({#1})}
%\newcommand{\deorder}[1]{\mathsf{Deorder}({#1})}
\newcommand{\remove}[1]{\mathsf{RemoveWR}({#1})}
\newcommand{\reorderWR}[1]{\mathsf{ReorderWR}({#1})}

\newcommand{\travConfigStep}{\rightarrow_{\rm TC}}
\newcommand{\ARM}{\ensuremath{\mathsf{ARM}}\xspace}
\newcommand{\correctTmap}{{\rm \bf correct\text{-}tmap}}
\newcommand{\rmwCovering}{{\rm \bf rmw\text{-}covering}}
\newcommand{\invWsc}{{\rm \bf write\text{-}sc\text{-}covering}}
\newcommand{\invViewRel}{\mathcal{I}_{\rm \bf view\text{-}rel}}
\newcommand{\setView}{{\rm set\text{-}view}}
\newcommand{\domView}{{\rm dom\text{-}view}}
\newcommand{\scSet}{{\rm sc\text{-}set}}
\newcommand{\scSetF}{{\rm sc\text{-}set\text{-}fun}}
\newcommand{\scSynchSet}{{\rm sc\text{-}synch}}
\newcommand{\acqSynchSet}{{\rm acq\text{-}synch}}
\newcommand{\relSynchFSet}{{\rm rel\text{-}synchf}}
\newcommand{\acqSet}{{\rm acq\text{-}set}}
\newcommand{\acqSetF}{{\rm acq\text{-}set\text{-}fun}}
\newcommand{\curSet}{{\rm cur\text{-}set}}
\newcommand{\curSetF}{{\rm cur\text{-}set\text{-}fun}}
\newcommand{\relSetFF}{{\rm rel\text{-}setf\text{-}fun}}
\newcommand{\msgSetF}{{\rm msg\text{-}set\text{-}fun}}
\newcommand{\msgSet}{{\rm msg\text{-}set}}
\newcommand{\relFunSet}{{\rm rel\text{-}setf}}
\newcommand{\lessView}{{\sf \bf less\text{-}view}}
\newcommand{\TSf}{\ensuremath{\mathcal{TS}}\xspace}
\newcommand{\TS}{\ensuremath{\mathit{TS}}\xspace}
\newcommand{\View}{\ensuremath{\mathcal{V}}\xspace}
\newcommand{\SCview}{\ensuremath{\mathcal{S}}\xspace}
\newcommand{\letdef}[2]{\kw{let} \; #1 \defeq #2 \; \kw{in}}
\newcommand{\nextset}{{\sf Next}}
\newcommand{\coverable}{{\sf Coverable}}
\newcommand{\promisable}{{\sf Promisable}}
\newcommand{\addToMemory}[2]{#1 \buildrel{\text{A}}\over\hookleftarrow #2}

\newcommand{\stepa}{\leadsto_{\ARM}}
\newcommand{\stepp}{\leadsto_{\Promise}}
\newcommand{\stepptid}{\leadsto_{\Promise \; tid}}
\newcommand{\lISB}{\mathtt{F^{\isb}}}
\newcommand{\lDMB}{\mathtt{DMB}}
%% \newcommand{\lDMBFULL}{\mathtt{DMB.full}}
%% \newcommand{\lDMBLD}{\mathtt{DMB.ld}}
%% \newcommand{\lDMBST}{\mathtt{DMB.st}}
\newcommand{\lDMBSY}{\mathtt{F^{\full}}}
\newcommand{\lDMBLD}{\mathtt{F^{\ld}}}
\newcommand{\lDMBST}{\mathtt{F^{\sto}}}
\newcommand{\SY}{\mathtt{SY}}
\newcommand{\LD}{\mathtt{LD}}
\newcommand{\ST}{\mathtt{ST}}
\newcommand{\removeCR}[1]{\mathsf{RemoveCR}({#1})}
%% \spnewtheorem{defn}{Definition}{\bfseries}{}
%% \crefname{defn}{Definition}{Definitions}
\newcommand{\Timestamp}{\mathtt{Time}}
\newcommand{\TimestampMap}{\mathit{TimeMap}}

\newcommand{\Prog}{\ensuremath{Prog}\xspace}
\newcommand{\ProgARM}{\ensuremath{Prog_\ARM}\xspace}

% Promise definitions
\newcommand{\msg}[4]{\tup{#1:#2@#3,#4}}
\newcommand{\Promise}{\ensuremath{\mathsf{Promise}}\xspace}
%% \newcommand\PromSet{\mathit{promises}}
\newcommand\PromSet{\mathtt{P}}
\newcommand\PromState{\mathit{st}}
\newcommand{\V}{V}
\newcommand{\view}{view}
%% \newcommand{\viewCur}{view_{\sf cur}}
%% \newcommand{\viewAcq}{view_{\sf acq}}
%% \newcommand{\viewRel}{view_{\sf rel}}
\newcommand{\viewCur}{{\sf cur}}
\newcommand{\viewAcq}{{\sf acq}}
\newcommand{\viewRel}{{\sf rel}}
\newcommand{\viewfRel}{{\sf rel}}
\newcommand{\loc}{\iota}
\newcommand{\val}{v}
%% \newcommand{\tstamp}{\tau}
\newcommand{\tstampRange}[2]{(#1,#2]}
\newcommand{\simRel}{\mathcal{I}}
\newcommand{\invMemOne}{\mathcal{I}_{\rm \bf mem1}}
\newcommand{\invMemTwo}{\mathcal{I}_{\rm \bf mem2}}
\newcommand{\invMemThree}{\mathcal{I}_{\rm \bf mem3}}
\newcommand{\invView}{\mathcal{I}_{\rm \bf view}}
\newcommand{\invState}{\mathcal{I}_{\rm \bf state}}
\newcommand{\pstate}{\sigma}
\newcommand{\labelF}{{\rm label}}
\newcommand{\ltsReq}{{\rm lts\text{-}req}}
\newcommand{\maxF}{{\rm max}}
\newcommand{\compileF}{{\rm compile}}
\newcommand{\compileMod}{{\rm mod\text{-}compile}}
\newcommand{\compileFenceMod}{{\rm fence\text{-}mod\text{-}compile}}
%% \newcommand{\writeLbl}[3]{W \; (#1, #2, #3)}
\newcommand{\writeLbl}[2]{W \; (#1, #2)}
\newcommand{\writeBlankLbl}{W \; \_}
\newcommand{\fenceLbl}[1]{F \; #1}
%% \newcommand{\readLbl}[3]{R \; (#1, #2, #3)}
\newcommand{\readLbl}[2]{R \; (#1, #2)}
\newcommand{\readBlankLbl}{R \; \_}
\newcommand{\casLbl}[5]{U \; (#1, #2, #3, #4, #5)}
\newcommand{\svaleq}{\asymp}
\newcommand{\strans}[1]{\xrightarrow{#1}}

%% \newcommand\readWriteTau{\textsf{access-tmap}}
%% \newcommand\readsView{\textsf{reads-view}}

%\newcommand{\RC}{\ensuremath{\mathsf{RC11}}\xspace}
%\newcommand{\WRC}{\ensuremath{\mathsf{WRC11}}\xspace}

\newcounter{mylabelcounter}

\makeatletter
\newcommand{\labelAxiom}[2]{%
\hfill{\normalfont\textsc{(#1)}}\refstepcounter{mylabelcounter}
\immediate\write\@auxout{%
  %% \string\newlabel{#2}{{1}{\thepage}{{#1}}{mylabelcounter.\number\value{mylabelcounter}}{}}
  \string\newlabel{#2}{{\unexpanded{\normalfont\textsc{#1}}}{\thepage}{{\unexpanded{\normalfont\textsc{#1}}}}{mylabelcounter.\number\value{mylabelcounter}}{}}
}%
}
\makeatother

\newcommand{\squishlist}[1][$\bullet$]{%[$\tinybullet$]{
 \begin{list}{#1}
  { \setlength{\itemsep}{0pt}
     \setlength{\parsep}{0pt}
     \setlength{\topsep}{1pt}
     \setlength{\partopsep}{0pt}
     \setlength{\leftmargin}{1.2em}
     \setlength{\labelwidth}{0.5em}
     \setlength{\labelsep}{0.4em} } }
\newcommand{\squishend}{
  \end{list}  }

\newcommand{\app}[1]{{\color{blue}\textbf{ANTON: #1}}}
\newcommand{\ori}[1]{{\color{red}\textbf{ORI: #1}}}
\newcommand{\red}[1]{{\color{red}{#1}}}

\begin{document}
\maketitle

\begin{abstract}
  \app{TODO}
\end{abstract}

{\bf Ключевые слова:} многопоточность, корректность компиляции, слабые модели памяти.

%% \input{introduction}
%% \input{related}
%% \input{promiseExamples}
%% \input{armExamples}
%% \input{highlevel}
%% \input{promiseFormally}
%% \input{armFormally}
%% %% \input{armAuxiliary}
%% \input{traversal}
%% \input{view}
%% \input{simulation}
%% \input{conclusion}

\newpage
\bibliographystyle{plainurl}
\bibliography{main}

%% \newpage
%% \appendix
%% \input{appendixProg}
%% \newpage
%% \input{appendix}

\end{document}
